~~~
~~ #%L
~~ Dependency Injection of a POJO HTTP Server Tutorial
~~ %%
~~ Copyright (C) 2005 - 2020 Daniel Sagenschneider
~~ %%
~~ This program is free software: you can redistribute it and/or modify
~~ it under the terms of the GNU Affero General Public License as published by
~~ the Free Software Foundation, either version 3 of the License, or
~~ (at your option) any later version.
~~ 
~~ This program is distributed in the hope that it will be useful,
~~ but WITHOUT ANY WARRANTY; without even the implied warranty of
~~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
~~ GNU General Public License for more details.
~~ 
~~ You should have received a copy of the GNU Affero General Public License
~~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
~~ #L%
~~~

                                               -----------------------
                            Dependency Injection of a Plain Old Java Object (POJO) Tutorial 
                                               -----------------------
                                                Daniel Sagenschneider
                                               -----------------------

Dependency Injection Tutorial

  This tutorial demonstrates the dependency injection of a Plain Old Java Object (POJO).
  
  The example used in this tutorial is the following simple application to render a message to screen.  Part of the message is obtained from a dependency injected POJO.
  
[./images/DiPojoHttpServer-screenshot.png] DiPojoHttpServer screen shot.
  
  {{{http://sourceforge.net/projects/officefloor/files/maven/maven2/net/officefloor/tutorial/DiPojoHttpServer/${projectVersion}/DiPojoHttpServer-${projectVersion}-project.zip/download}Download Tutorial Source}}



*Template
  
  The following is the content of the template.

%{snippet|file=${basedir}/src/main/resources/Template.woof.html|ignoreDownloadError=false}

  With the template logic.

%{snippet|id=tutorial|file=${basedir}/src/main/java/net/officefloor/tutorial/dipojohttpserver/TemplateLogic.java|ignoreDownloadError=false}

  WoOF (via its underlying OfficeFloor framework) injects dependencies into methods.  By injecting dependencies into methods, WoOF makes development of applications simpler.  This is because the application logic is written as loosely coupled methods rather than highly coupled objects.  See {{{https://sagenschneider.blogspot.com/2019/02/inversion-of-coupling-control.html}Inversion of Coupling Control}} for more details.
  
  The injected dependency (POJO) will provide the remaining text of the rendered content.  The code of the injected POJO is as follows.

%{snippet|id=tutorial|file=${basedir}/src/main/java/net/officefloor/tutorial/dipojohttpserver/Pojo.java|ignoreDownloadError=false}
  

*Dependency Injection

  Objects for dependency injection are configured in the <<<application.objects>>> file contained at the root of the class path.  Providing this file is optional, as it is anticipated that WoOF annotations will provide most POJO dependency configuration.  However, it is supported to extend WoOF applications with additional dependencies as required.
      
  The configuration of dependency injecting the POJO is as follows.

%{snippet|file=${basedir}/src/main/resources/application.objects|ignoreDownloadError=false}

  WoOF auto-wires dependency injection based on type.  Auto-wiring dependencies based on type is adequate (and much easier) for the majority of applications.  WoOF's underlying OfficeFloor framework does provide manual dependency configuration, however this is seldom used as WoOF allows qualifying dependencies for auto-wiring.
  
  The configuration above instantiates the POJO via its default constructor.  Should more complex construction be required, please see the tutorials on managed objects.
  
  A <<<type>>> attribute can be added to auto-wire the POJO based on one of its super types (e.g. an interface).



*Unit Test

  The unit test ensures the correct rendered content is received.

%{snippet|id=test|file=${basedir}/src/test/java/net/officefloor/tutorial/dipojohttpserver/DiPojoHttpServerTest.java|ignoreDownloadError=false}



Next

  The {{{../TestHttpServer/index.html}next tutorial}} covers testing a WoOF web application.
